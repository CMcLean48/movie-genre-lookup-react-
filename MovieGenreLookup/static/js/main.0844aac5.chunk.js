(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(9),r=a.n(i),l=(a(16),a(2)),o=a(3),c=a(5),h=a(4),u=a(6),g=a(1),v=(a(8),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={selectedOverviewID:null},e.showOverview=e.showOverview.bind(Object(g.a)(Object(g.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"showOverview",value:function(e){e===this.state.selectedOverviewID?this.setState({selectedOverviewID:null}):this.setState({selectedOverviewID:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("ul",{className:"movieList"},this.props.movies.map(function(t){return s.a.createElement("li",{className:"movie-item",key:t.id},s.a.createElement("h3",{className:"movie-title"},t.title),s.a.createElement("p",null,"release date:",t.release_date),s.a.createElement("img",{className:"movie-poster",src:"http://image.tmdb.org/t/p/w185"+t.poster_path,alt:t.title+"_poster"}),s.a.createElement("button",{onClick:function(a){return e.showOverview(t.id)}},"show details"),t.id===e.state.selectedOverviewID?s.a.createElement("p",{className:"movie-overview"},t.overview):s.a.createElement("p",null))})))}}]),t}(s.a.Component)),m="f8b5c4c831f66ef931d7c63686ffe0c8",d="http://api.themoviedb.org/3/discover/movie?api_key="+m,p="https://api.themoviedb.org/3/genre/movie/list?api_key="+m+"&language=en-US",b=function(e){function t(){var e;Object(l.a)(this,t),e=Object(c.a)(this,Object(h.a)(t).call(this));var a=new Date,n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),s=a.setDate(a.getDate()-60),i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();return console.log(s),e.state={apiKey:m,start:i,end:n,genre:"28 ",page:1,loading:"true",movies:[],genres:[],selectedGenre:"",overview:!1,id:"",title:"",release_date:""},e.getMovies=e.getMovies.bind(Object(g.a)(Object(g.a)(e))),e.handleGenreChange=e.handleGenreChange.bind(Object(g.a)(Object(g.a)(e))),e.nextPage=e.nextPage.bind(Object(g.a)(Object(g.a)(e))),e.previousPage=e.previousPage.bind(Object(g.a)(Object(g.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getMovies(this.state.page,this.state.start,this.state.end,this.state.genre),this.getGenres()}},{key:"handleGenreChange",value:function(e){this.setState({selectedGenre:e.target.value,page:1}),this.getMovies(this.state.page,this.state.start,this.state.end,e.target.value)}},{key:"getMovies",value:function(e,t,a,n){var s=this;fetch(d+"&primary_release_date.gte="+t+"&primary_release_date.lte="+a+"&page="+e+"&with_genres="+n).then(function(e){return e.json()}).then(function(e){s.setState({movies:e.results}),console.log(JSON.stringify(e.results)),s.setState({totalPages:e.total_pages})}).catch(function(e){alert(e)})}},{key:"getGenres",value:function(){var e=this;fetch(p).then(function(e){return e.json()}).then(function(t){e.setState({genres:t.genres,loading:!1})}).catch(function(e){alert(e)})}},{key:"nextPage",value:function(e){if(this.state.page<this.state.totalPages){var t=this.state.page;t=t+=1,this.setState({page:t}),this.getMovies(t,this.state.start,this.state.end,this.state.genre)}}},{key:"previousPage",value:function(e){if(this.state.page>1){var t=this.state.page;t=t-=1,this.setState({page:t}),this.getMovies(t,this.state.start,this.state.end,this.state.genre)}}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"titleItem"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("img",{width:"60",src:"movie_roll.svg",alt:"movieroll"})),s.a.createElement("td",null,s.a.createElement("h1",null,"Movie Database Sort By Genre")))))),s.a.createElement("div",null,s.a.createElement("p",{className:"genreChangetitle"},"Change Genre"),s.a.createElement("select",{className:"selection",type:"text",value:this.state.selectedGenre,onChange:this.handleGenreChange},this.state.genres.map(function(e,t){return s.a.createElement("option",{key:e.id,value:e.id},e.name)})),this.state.selectedGenre,s.a.createElement("br",null),s.a.createElement("div",{className:"page"},s.a.createElement("button",{onClick:this.previousPage},"<\xa0 Previous Page"),s.a.createElement("p",null,"\xa0Page Number:\xa0",this.state.page,"\xa0of \xa0",this.state.totalPages," Pages"),"\xa0",s.a.createElement("button",{onClick:this.nextPage}," Next Page\xa0>"),s.a.createElement("a",{className:"anchor",href:"#bottom",id:"top"},"go to bottom")),s.a.createElement(v,{movies:this.state.movies}),s.a.createElement("footer",null,s.a.createElement("button",{onClick:this.previousPage},"<\xa0 Previous Page"),s.a.createElement("button",{onClick:this.nextPage}," Next Page\xa0>"),s.a.createElement("a",{className:"anchor",href:"#top",id:"bottom"},"go to top"),s.a.createElement("p",null,"\xa9 2018 Crystal McLean"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){}},[[10,2,1]]]);
//# sourceMappingURL=main.0844aac5.chunk.js.map